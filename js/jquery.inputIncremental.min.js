$.fn.inputIncremental=function(a){"use strict";return this.each(function(){var b=$(this);b.wrap('<span class="inputIncremental"/>');var c=b.parent();c.append($("<div />").addClass("incrementalButtonBox").append($('<a href="#"/>').addClass("increment")).append($('<a href="#"/>').addClass("decrement")));var d=$.extend({value:1,minVal:0,maxVal:null,throttle:1e3,autocomplete:!1,negative:!1},a),e=b.data(),f=["minVal","maxVal","value","throttle"];f.forEach(function(a){void 0!==e[a]&&(d[a]=e[a])}),void 0!==e.theme&&c.addClass(e.theme),void 0!==e.negative&&(d.negative=e.negative),d.autocomplete||b.attr("autocomplete","off"),d.negative&&d.minVal>=0&&(d.minVal=null);var g=function(a,b){var c=$(a),e=c.data("inputIncremental-throttle");e||(e=$.throttle(d.throttle,function(){c.trigger("change")}),c.data("inputIncremental-throttle",e)),null!==d.minVal&&b<d.minVal&&(b=d.minVal),d.maxVal&&b>d.maxVal&&(b=d.maxVal),c.val(b),e(b)};b.on("keypress",function(a){(a.which<48||a.which>57)&&8!==a.which&&0!==a.which&&44!==a.which&&46!==a.which&&a.preventDefault()}),b.on("keydown",function(a){var b=function(a){a.addClass("hover").trigger("click"),setTimeout(function(){a.removeClass("hover")},200)};38===a.which?b($(this).parent().find("a.increment")):40===a.which?b($(this).parent().find("a.decrement")):9===a.keyCode}),c.on("click","a",function(a){if(a.preventDefault(),!c.is(".disabled")){var b=c.find("input"),e=b.val().replace(",",".");e="int"===d.numberType?parseInt(b.val()):parseFloat(b.val()),isNaN(e)&&(e=d.minVal),$(this).hasClass("increment")?e+=d.value:$(this).hasClass("decrement")&&(e-=d.value),g(b,Math.round(100*e)/100),b.focus()}}),b.on("focus",function(){c.addClass("focus"),g(this,this.value.replace(",",".")),setTimeout($.proxy(function(){this.select()},b),10)}).on("blur",function(){g(this,this.value.replace(",",".")),c.removeClass("focus");var a=$(this),b=parseInt(a.val());(isNaN(b)||""===a.val()||b<d.minVal)&&g(a,d.minVal)})})};